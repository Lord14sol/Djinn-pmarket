   Compiling proc-macro2 v1.0.105
   Compiling quote v1.0.43
   Compiling unicode-ident v1.0.22
   Compiling version_check v0.9.5
   Compiling typenum v1.19.0
   Compiling syn v1.0.109
   Compiling libc v0.2.180
   Compiling serde_core v1.0.228
   Compiling serde v1.0.228
   Compiling zmij v1.0.14
   Compiling serde_json v1.0.149
   Compiling generic-array v0.14.7
   Compiling thiserror v1.0.69
   Compiling semver v1.0.27
   Compiling syn v2.0.114
   Compiling rustc_version v0.4.1
   Compiling once_cell v1.21.3
   Compiling cfg-if v1.0.4
   Compiling jobserver v0.1.34
   Compiling memchr v2.7.6
   Compiling shlex v1.3.0
   Compiling autocfg v1.5.0
   Compiling find-msvc-tools v0.1.7
   Compiling cc v1.2.52
   Compiling block-buffer v0.10.4
   Compiling crypto-common v0.1.7
   Compiling subtle v2.4.1
   Compiling zerocopy v0.8.33
   Compiling digest v0.10.7
   Compiling ahash v0.8.12
   Compiling ahash v0.7.8
   Compiling anyhow v1.0.100
   Compiling feature-probe v0.1.1
   Compiling rustversion v1.0.22
   Compiling bv v0.11.1
   Compiling solana-frozen-abi-macro v1.16.25
   Compiling cpufeatures v0.2.17
   Compiling itoa v1.0.17
   Compiling unicode-segmentation v1.12.0
   Compiling sha2 v0.10.9
   Compiling heck v0.3.3
   Compiling borsh-derive-internal v0.9.3
   Compiling borsh-schema-derive-internal v0.10.3
   Compiling borsh-derive-internal v0.10.3
   Compiling borsh-schema-derive-internal v0.9.3
   Compiling memoffset v0.9.1
   Compiling num-traits v0.2.19
   Compiling solana-frozen-abi v1.16.25
   Compiling bs58 v0.5.1
   Compiling hashbrown v0.11.2
   Compiling hashbrown v0.13.2
   Compiling serde_bytes v0.11.19
   Compiling equivalent v1.0.2
   Compiling arrayvec v0.7.6
   Compiling log v0.4.29
   Compiling either v1.15.0
   Compiling bs58 v0.4.0
   Compiling arrayref v0.3.9
   Compiling keccak v0.1.5
   Compiling constant_time_eq v0.3.1
   Compiling lazy_static v1.5.0
   Compiling hashbrown v0.14.5
   Compiling sha3 v0.10.8
   Compiling itertools v0.10.5
   Compiling blake3 v1.5.1
   Compiling solana-program v1.16.25
   Compiling indexmap v2.1.0
   Compiling getrandom v0.2.17
   Compiling winnow v0.5.40
   Compiling toml_datetime v0.6.11
   Compiling aho-corasick v1.1.4
   Compiling regex-syntax v0.8.8
   Compiling base64 v0.21.7
   Compiling crunchy v0.2.4
   Compiling base64 v0.13.1
   Compiling assert_matches v1.5.0
   Compiling byteorder v1.5.0
   Compiling static_assertions v1.1.0
   Compiling hex v0.4.3
   Compiling uint v0.9.5
   Compiling toml_edit v0.19.15
   Compiling regex-automata v0.4.13
   Compiling proc-macro-crate v1.3.1
   Compiling regex v1.12.2
   Compiling num-derive v0.3.3
   Compiling anchor-derive-space v0.28.0
   Compiling serde_derive v1.0.228
   Compiling thiserror-impl v1.0.69
   Compiling bytemuck_derive v1.10.2
   Compiling solana-sdk-macro v1.16.25
   Compiling num_enum_derive v0.5.11
   Compiling num_enum v0.5.11
   Compiling bytemuck v1.24.0
   Compiling toml v0.5.11
   Compiling anchor-syn v0.28.0
   Compiling bincode v1.3.3
   Compiling proc-macro-crate v0.1.5
   Compiling borsh-derive v0.10.3
   Compiling borsh-derive v0.9.3
   Compiling borsh v0.10.3
   Compiling borsh v0.9.3
   Compiling anchor-attribute-access-control v0.28.0
   Compiling anchor-attribute-account v0.28.0
   Compiling anchor-derive-accounts v0.28.0
   Compiling anchor-attribute-error v0.28.0
   Compiling anchor-attribute-event v0.28.0
   Compiling anchor-attribute-program v0.28.0
   Compiling anchor-attribute-constant v0.28.0
Error: Function _ZN112_$LT$solana_program..instruction..InstructionError$u20$as$u20$solana_frozen_abi..abi_example..AbiEnumVisitor$GT$13visit_for_abi17ha3eb3ce25fbc5ad9E Stack offset of 4608 exceeded max offset of 4096 by 512 bytes, please minimize large stack variables
   Compiling spl-token v3.5.0
   Compiling spl-memo v3.0.1
   Compiling solana-zk-token-sdk v1.16.25
   Compiling anchor-lang v0.28.0
   Compiling spl-token-2022 v0.6.1
   Compiling spl-associated-token-account v1.1.3
   Compiling anchor-spl v0.28.0
   Compiling djinn-market v0.1.0 (/Users/benjaminfuentes/Djinn-pmarket/programs/djinn-market/programs/djinn-market)
    Finished release [optimized] target(s) in 2m 01s

Found a 'test' script in the Anchor.toml. Running it as a test suite!

Running test suite: "/Users/benjaminfuentes/Djinn-pmarket/programs/djinn-market/Anchor.toml"

(node:8733) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///Users/benjaminfuentes/Djinn-pmarket/programs/djinn-market/tests/genesis.ts is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /Users/benjaminfuentes/Djinn-pmarket/programs/djinn-market/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)


  Djinn Protocol: THE JUDGMENT DAY (Stress & Security)
âš¡ Airdropping massive liquidity...
    âœ” 0. Funding the Titans (360ms)

ðŸ“Š [GENESIS] STATUS REPORT:
  > ðŸ’° TVL (Vault):     â—Ž 0 SOL
  > ðŸ‡¦ðŸ‡· ARG Shares:      50 Billion
  > ðŸ‡§ðŸ‡· BRA Shares:      50 Billion
  > ðŸ“ˆ ARG Price:       ~0.0001 SOL/Share
    âœ” 1. GENESIS: Market Creation (463ms)
    âœ” Hedge Fund Long Argentina executed.
    âœ” 2. THE HEDGE FUND: 50/50 Strategy (Testing Liquidity Split) (536ms)
    1) 3. GIGA-WHALE EVENT: $900M Volume Simulation
    âœ” 4. SECURITY: Slippage Protection (Front-run Defense)
    âœ” 5. SECURITY: The 'Ghost Sell' (Selling what you don't have) (460ms)
    2) 6. SECURITY: The Loser Enters (Liquidity Trap)
    âœ” 7. RESOLUTION: Argentina Wins (Outcome 0) (440ms)
    3) 8. PAYOUT: The Winner Takes It All
    4) 8. PAYOUT: The Winner Takes It All (Corrected)
    âœ” 9. SECURITY: The Loser Tries to Claim
    âœ” 10. SECURITY: Double Dip (Winner claims twice)


  8 passing (2s)
  4 failing

  1) Djinn Protocol: THE JUDGMENT DAY (Stress & Security)
       3. GIGA-WHALE EVENT: $900M Volume Simulation:
     Simulation failed. 
Message: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x1. 
Logs: 
[
  "Program CMA2yM8ZUEiJ2t9cYNYShGaH2TbvcxPh2ZKbotm8wUHL invoke [1]",
  "Program log: Instruction: BuyShares",
  "Program 11111111111111111111111111111111 invoke [2]",
  "Transfer: insufficient lamports 0, need 1350240",
  "Program 11111111111111111111111111111111 failed: custom program error: 0x1",
  "Program CMA2yM8ZUEiJ2t9cYNYShGaH2TbvcxPh2ZKbotm8wUHL consumed 8536 of 200000 compute units",
  "Program CMA2yM8ZUEiJ2t9cYNYShGaH2TbvcxPh2ZKbotm8wUHL failed: custom program error: 0x1"
]. 
Catch the `SendTransactionError` and call `getLogs()` on it for full details.
  

  2) Djinn Protocol: THE JUDGMENT DAY (Stress & Security)
       6. SECURITY: The Loser Enters (Liquidity Trap):
     Simulation failed. 
Message: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x1. 
Logs: 
[
  "Program CMA2yM8ZUEiJ2t9cYNYShGaH2TbvcxPh2ZKbotm8wUHL invoke [1]",
  "Program log: Instruction: BuyShares",
  "Program 11111111111111111111111111111111 invoke [2]",
  "Program 11111111111111111111111111111111 success",
  "Program 11111111111111111111111111111111 invoke [2]",
  "Transfer: insufficient lamports 99998649760, need 495000000000",
  "Program 11111111111111111111111111111111 failed: custom program error: 0x1",
  "Program CMA2yM8ZUEiJ2t9cYNYShGaH2TbvcxPh2ZKbotm8wUHL consumed 37765 of 200000 compute units",
  "Program CMA2yM8ZUEiJ2t9cYNYShGaH2TbvcxPh2ZKbotm8wUHL failed: custom program error: 0x1"
]. 
Catch the `SendTransactionError` and call `getLogs()` on it for full details.
  

  3) Djinn Protocol: THE JUDGMENT DAY (Stress & Security)
       8. PAYOUT: The Winner Takes It All:
     Error: unknown signer: 9adYibYXLUgq8oKXnKJizKCPUPksaUSotT6njVfbzw6
      at Transaction._addSignature (node_modules/@solana/web3.js/src/transaction/legacy.ts:754:13)
      at forEach (node_modules/@solana/web3.js/src/transaction/legacy.ts:727:12)
      at Array.forEach (<anonymous>)
      at Transaction._partialSign (node_modules/@solana/web3.js/src/transaction/legacy.ts:725:13)
      at Transaction.partialSign (node_modules/@solana/web3.js/src/transaction/legacy.ts:717:10)
      at AnchorProvider.sendAndConfirm (node_modules/@coral-xyz/anchor/src/provider.ts:152:14)
      at processTicksAndRejections (node:internal/process/task_queues:103:5)
      at MethodsBuilder.rpc [as _rpcFn] (node_modules/@coral-xyz/anchor/src/program/namespace/rpc.ts:29:16)

  4) Djinn Protocol: THE JUDGMENT DAY (Stress & Security)
       8. PAYOUT: The Winner Takes It All (Corrected):
     Error: AnchorError caused by account: user_position. Error Code: AccountNotInitialized. Error Number: 3012. Error Message: The program expected this account to be already initialized.
      at AnchorError.parse (node_modules/@coral-xyz/anchor/src/error.ts:167:14)
      at translateError (node_modules/@coral-xyz/anchor/src/error.ts:276:35)
      at MethodsBuilder.rpc [as _rpcFn] (node_modules/@coral-xyz/anchor/src/program/namespace/rpc.ts:35:29)
      at processTicksAndRejections (node:internal/process/task_queues:103:5)



